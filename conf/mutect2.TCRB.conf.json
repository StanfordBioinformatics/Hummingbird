{
  "Platform": {
    "service": "gcp",
    "project": "gbsc-gcp-project-cba",
    "regions": "us-west1",
    "bucket": "gbsc-gcp-project-hummingbird-user-xingziye"
  },
  "Downsample": {
    "input": {
      "NORMAL_BAM": "gs://gbsc-gcp-project-hummingbird-user-xingziye/TCRB/case_001/TCRBOA1-N-WEX.bam",
      "TUMOR_BAM": "gs://gbsc-gcp-project-hummingbird-user-xingziye/TCRB/case_001/TCRBOA1-T-WEX.bam"
    },
    "target": 81194486,
    "_target_tumor": 86615196,
    "output": "downsampled/TCRB/case_001",
    "logging": "logging/TCRB/case_001/downsample"
  },
  "Profiling": [
    {
      "image": "xingziye/seqdownsample:latest",
      "logging": "logging/mutect2/index",
      "result": "result/mutect2/index",
      "command": "samtools index ${NORMAL_BAM} ${NORMAL_BAI}; samtools index ${TUMOR_BAM} ${TUMOR_BAI}",
      "output": {
        "NORMAL_BAI": "output/mutect2/index/TCRBOA1-N-WEX.bai",
        "TUMOR_BAI": "output/mutect2/index/TCRBOA1-T-WEX.bai"
      }
    },
    {
      "image": "broadinstitute/gatk:4.1.2.0",
      "logging": "logging/mutect2/whole",
      "thread": [8],
      "result": "result/mutect2/whole",
      "wdl_file": "input/mutect2/mutect2.wdl",
      "backend_conf": "input/gfs-backend.conf",
      "json_input": [
        [
          "input/mutect2/mutect2.exome.inputs.81194.json",
          "input/mutect2/mutect2.exome.inputs.811944.json",
          "input/mutect2/mutect2.exome.inputs.8119448.json"
        ]
      ],
      "output": "output/mutect2/whole"
    }
  ]
}
